{% extends "base_generic.html" %}
<html lang="en">
	<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title> {% block title %} RESULT SEARCH {% endblock %} </title>
</head>
 {% block content %}
<body>
    <div action="" method="POST" style="overflow:hidden;background-color:dodgerblue;padding:20px 10px;width:83%;border-radius:5px;margin-left:-53px;">
        {% csrf_token %}
        <div class="capt" style="font-weight:bold;"> STUDENT INFORMATION <a href="" title="Register a new student name"><span class="glyphicon glyphicon-plus" style="color:white; margin-left:44%;background-color:green;border:1px solid blue;border-radius:5px;"></span></a><a href="" title="Edit student name"><span class="glyphicon glyphicon-pencil" style="color:white;margin-left:1%;background-color:yellow;border:1px solid blue;border-radius:5px;"></span></a></div><br>
        <div style="font-weight:bold;margin-left:22px;background-color:black;color:white;border-radius:5px;border:1px solid blue;text-align:center;">Profile</div>
            <label for="" style="margin-left:-2%;">STUDENT NAME: </label>
            <input type="text" value="{{ info.student_name }}" style="background-color:black;color:white;text-align:center;border-radius:5px;"><label for="">ADMISSION NO.:</label><input type="text" value="{{ info.student_id }}" disabled style="background-color:black;color:white;text-align:center;border-radius:5px;">
            <label for="" style="margin-left:-2%;">Contact: </label>
            <input type="text" value="{{ info.contact }}" style="background-color:rgb(236, 235, 234);color:Maroon;text-align:center;border-radius:5px;" name="contact" id="contact"><label for="">Address.:</label><input type="text" value="{{ info.address }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:42%;text-align:center;border-radius:5px;" name="address" id="address">
            <div>
            <label for="" style="margin-left:-2%;">Class: </label>
                <select name="class" id="class" required="True" style="background-color:rgb(236, 235, 234);color:Maroon;margin-left:18%;width:10%;text-align:center;border-radius:5px;">
                            <option value="{{ info.Class }}">{{ info.Class }}</option>
                            <option value="JSS 1">jss_one</option>
                            <option value="JSS 2">jss_two</option>
                            <option value="JSS 3">jss_three</option>
                            <option value="SSS 1">sss_one</option>
                            <option value="SSS 2">sss_two</option>
                            <option value="SSS 3">sss_three</option>
                </select>
            <label for="" style="margin-left:-1%;">Term: </label>
                <select name="term" id="term" required="True" style="background-color:rgb(236, 235, 234);color:Maroon;margin-left:30%;width:15%;text-align:center;border-radius:5px;">
                            <option value="{{ info.term }}">{{ info.term }}</option>
                            <option value="1st Term">first term</option>
                            <option value="2nd Term">second term</option>
                            <option value="3rd Term">third term</option>
                </select>
            </div><br>
        <div style="font-weight:bold;margin-left:22px;background-color:black;color:white;border-radius:5px;border:1px solid blue;text-align:center;">Attendance and Punctuality</div>
            <ul>No. of times <br>
                <label for="" style="margin-left:-13px;">School Open:</label>
                <input type="text" value="{{ info.no_open }}" style="width:8%;text-align:center;border-radius:5px;margin-left:9px;background-color:rgb(236, 235, 234);color:Maroon;" name="opened" id="opened" required="True">
                <label for="" style="margin-left:-20px;">Present:</label>
                <input type="text" value="{{ info.no_present }}" style="width:8%;text-align:center;border-radius:5px;margin-left:9px;background-color:rgb(236, 235, 234);color:Maroon;" name="presence" id="presence" required="True">
                <label for="" style="margin-left:-20px;">Punctual:</label>
                <input type="text" value="{{ info.no_absent }}" style="width:8%;text-align:center;border-radius:5px;margin-left:13px;background-color:rgb(236, 235, 234);color:Maroon;" name="punctual" id="punctual" required="True">
                <label for="" style="margin-left:-13px;">Comment:</label>
                <input type="text" value="{{ info.comment }}" style="width:79%;text-align:center;border-radius:5px;margin-left:10px;background-color:rgb(236, 235, 234);color:Maroon;" name="comment" id="comment" required="True">
            </ul>
        <div style="font-weight:bold;margin-left:22px;background-color:black;color:white;border-radius:5px;border:1px solid blue;text-align:center;">Physical, Health and Development</div>
        <table style="margin-left:22px;width:96%;">
            <tr>
                <th colspan="2">Height(m)</th>
                <th colspan="2">Weight(kg)</th>
                <th colspan="2"></th>
            </tr>
            <tr>
                <th>Beginning of term</th>
                <th>End of term</th>
                <th>Beginning of term</th>
                <th>End of term</th>
                <th>No. of Day Absent</th>
                <th>Purpose</th>
            </tr>
            <tr>
                <td><input type="text" value="{{ info.H_begin }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="hbegin" id="hbegin" required="True"></td>
                <td><input type="text" value="{{ info.H_end }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="hend" id="hend" required="True"></td>
                <td><input type="text" value="{{ info.W_begin }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="wbegin" id="wbegin" required="True"></td>
                <td><input type="text" value="{{ info.W_end }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="wend" id="wend" required="True"></td>
                <td><input type="text" value="{{ info.no_of_day_abs }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:89%;text-align:center;border-radius:5px;" name="daysAbsent" id="daysAbsent" disabled></td>
                <td><input type="text" value="{{ info.purpose }}" style="background-color:rgb(236, 235, 234);color:Maroon;text-align:center;border-radius:5px;" name="purpose" id="purpose" required="True"></td>
            </tr>
            <tr>
                <th>Remark</th>
                <th>
                    <select style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="good" id="good" required="True">
                        <option value="{{ info.good }}" style="width:100%;text-align:center;border-radius:5px;">{{ info.good }}</option>
                        <option value="good">Good</option>
                        <option value="None">None</option>
                    </select>
                </th>
                <th>
                    <select style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="fair" id="fair" required="True">
                        <option value="{{ info.fair }}" style="width:100%;text-align:center;border-radius:5px;">{{ info.fair }}</option>
                        <option value="fair">Fair</option>
                        <option value="None">None</option>
                    </select>
                </th>
                <th>
                    <select style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="poor" id="poor" required="True">
                        <option value="{{ info.poor }}" style="width:100%;text-align:center;border-radius:5px;">{{ info.poor }}</option>
                        <option value="poor">Poor</option>
                        <option value="None">None</option>
                    </select>
                </th>
                <th colspan="2"><input type="text" value="{{ info.remark }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="remark" id="remark" required="True"></th>
            </tr>
        </table>
        <div style="font-weight:bold;margin-left:22px;background-color:black;color:white;border-radius:5px;border:1px solid blue;text-align:center;">Sporting Activities</div>
        <table style="margin-left:22px;width:96%;">
            <tr>
                <th>Event</th>
                <th>Indoor game</th>
                <th>Ball game</th>
                <th>Combative gamr</th>
                <th>Tract</th>
                <th>Jump</th>
                <th>Throw</th>
                <th>Swim</th>
                <th>Weight Lifting</th>
            </tr>
            <tr>
                 <td>
                    <select style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="event" id="event" required="True">
                        <option value="{{ info.event }}" style="width:100%;text-align:center;border-radius:5px;">{{ info.event }}</option>
                        <option value="event">Event</option>
                        <option value="_____">_____</option>
                    </select>
                </td>
                <td>
                    <select style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="indoor" id="indoor" required="True">
                        <option value="{{ info.indoor }}" style="width:100%;text-align:center;border-radius:5px;">{{ info.indoor }}</option>
                        <option value="indoor">Indoor</option>
                        <option value="_____">_____</option>
                    </select>
                </td>
                <td>
                    <select style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="ball" id="ball" required="True">
                        <option value="{{ info.ball }}" style="width:100%;text-align:center;border-radius:5px;">{{ info.ball }}</option>
                        <option value="ball">Ball</option>
                        <option value="_____">_____</option>
                    </select>
                </td>
                <td>
                    <select style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="combat" id="combat" required="True">
                        <option value="{{ info.combat }}" style="width:100%;text-align:center;border-radius:5px;">{{ info.combat }}</option>
                        <option value="combat">Combative</option>
                        <option value="_____">_____</option>
                    </select>
                </td>
                <td>
                    <select style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="track" id="track" required="True">
                        <option value="{{ info.track }}" style="width:100%;text-align:center;border-radius:5px;">{{ info.track }}</option>
                        <option value="track">Tract</option>
                        <option value="_____">_____</option>
                    </select>
                </td>
                <td>
                    <select style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="jump" id="jump" required="True">
                        <option value="{{ info.jump }}" style="width:100%;text-align:center;border-radius:5px;">{{ info.jump }}</option>
                        <option value="jump">Jump</option>
                        <option value="_____">_____</option>
                    </select>
                </td>
                <td>
                    <select style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="throw" id="throw" required="True">
                        <option value="{{ info.throw }}" style="width:100%;text-align:center;border-radius:5px;">{{ info.throw }}</option>
                        <option value="throw">Throw</option>
                        <option value="_____">_____</option>
                    </select>
                </td>
                <td>
                    <select style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="swim" id="swim" required="True">
                        <option value="{{ info.swim }}" style="width:100%;text-align:center;border-radius:5px;">{{ info.swim }}</option>
                        <option value="swim">Swiming</option>
                        <option value="_____">_____</option>
                    </select>
                </td>
                <td>
                    <select style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="lift" id="lift" required="True">
                        <option value="{{ info.lift }}" style="width:100%;text-align:center;border-radius:5px;">{{ info.lift }}</option>
                        <option value="lift">Weight Lifting</option>
                        <option value="_____">_____</option>
                    </select>
                </td>
                
            </tr>
            <tr>
                <th>Comment</th>
                <td colspan="8"><input type="text" value="{{ info.sport_comment }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="sport_comment" id="sport_comment" required="True"></td>
            </tr>
        </table>
        <div style="font-weight:bold;margin-left:22px;background-color:black;color:white;border-radius:5px;border:1px solid blue;text-align:center;">Club Activities</div>
        <table style="margin-left:22px;width:96%;">
            <tr>
                <th>Clubs/Societies</th>
                <th>Office Held</th>
                <th>Contributions</th>
                <th>Signature</th>
            </tr>
            <tr>
                <td><input type="text" value="{{ info.club_one }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="club_one" id="club_one" required="True"></td>
                <td><input type="text" value="{{ info.office_one }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="office_one" id="office_one" required="True"></td>
                <td><input type="text" value="{{ info.contrib_one }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;"
                name="contrib_one" id="contrib_one" required="True"></td>
                <td></td>
            </tr>
            <tr>
                <td><input type="text" value="{{ info.club_two }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="club_two" id="club_two" required="True"></td>
                <td><input type="text" value="{{ info.office_two }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="office_two" id="office_two" required="True"></td>
                <td><input type="text" value="{{ info.contrib_two }}" style="background-color:rgb(236, 235, 234);color:Maroon;width:100%;text-align:center;border-radius:5px;" name="contrib_two" id="contrib_two" required="True"></td>
                <td></td>
            </tr>
        </table>
        <br>
        <div  style="margin-left:-12%">
            <select name="dropDown" id="dropDown" style="width:30%;margin-left:40%;background-color:green;color:white;border-radius:5px;">
                <option value="{{ info.student_name }}">{{ info.student_name }}</option>
                {% if current %}
                {% for scr in current %}
                    <option name="dropDownOpt" id="dropDownOpt" value="{{ scr.id }}">{{ scr.student_name }}</option>
                {% endfor %}
                {% endif %}
            </select>
            <button class="btn-btn-primary" name='Save' style="background-color:green;color:white;border-radius:5px;">Save<span class="glyphicon glyphicon-ok"> </span></button><br>
            <div id="success" style="width:100%;font-weight:bold;margin-left:0%;background-color:white;color:gray;opacity:0.6;border-radius:5px;border:1px solid blue;text-align:center;"></div>
        </div>
        
    </div>   
    <script>
        $("#dropDown").change(function(){
                var pk = $("#dropDown").val();
                location.replace('http://127.0.0.1:8838/result/student_info/'+pk+'/')
            });
        $("button[name='Save']").click(function() {
            var argument = {pk:{{ info.id }}, class:$("#class").val(), term:$("#term").val(), opened:$("#opened").val(), presence:$("#presence").val(), punctual:$("#punctual").val(), comment:$("#comment").val(), hbegin:$("#hbegin").val(), hend:$("#hend").val(), wbegin:$("#wbegin").val(), wend:$("#wend").val(), daysAbsent:$("#opened").val() - $("#presence").val(), purpose:$("#purpose").val(), good:$("#good").val(), fair:$("#fair").val(), poor:$("#poor").val(), remark:$("#remark").val(), event:$("#event").val(), indoor:$("#indoor").val(), ball:$("#ball").val(), combat:$("#combat").val(), track:$("#track").val(), jump:$("#jump").val(), throw:$("#throw").val(), swim:$("#swim").val(), lift:$("#lift").val(), sport_comment:$("#sport_comment").val(), club_one:$("#club_one").val(), office_one:$("#office_one").val(), contrib_one:$("#contrib_one").val(), club_two:$("#club_two").val(), office_two:$("#office_two").val(), contrib_two:$("#contrib_two").val()
                            };
            $.ajax({
                url:'http://127.0.0.1:8838/result/student_info_json/',
                data: argument,
                dataType: 'json',
                success: function(data) {
                    if (data.status){
                        $("#success").html("{{ info.student_name }}"+" information was saved successfully!")
                    }
                }
            })
            });
    </script>
</body>
 {% endblock %}
 
</html>